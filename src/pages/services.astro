---
import { Icon } from "astro-icon/components";
import BaseLayout from "@/layouts/BaseLayout.astro";
import selfServiceImage from "@/assets/self-service-machines.jpg";
import washFoldImage from "@/assets/wash-fold-laundry.jpg";
import comforterImage from "@/assets/comforter-machines.jpg";
import { contactInfo } from "@/data/contact";
import { selfServiceFeatures, selfServicePricing, washFoldPricing } from "@/data/services";

const featureIconMap: Record<string, string> = {
  Maximize: "lucide:maximize",
  Sparkles: "lucide:sparkles",
  Clock: "lucide:clock",
};

const serviceSchema: Record<string, unknown> = {
  "@context": "https://schema.org",
  "@type": "Service",
  "name": "Laundry Services at The Washboard",
  "description": "Self-service laundry, wash and fold, and comforter cleaning at The Washboard laundromat in Murray, KY.",
  "provider": {
    "@type": "Laundromat",
    "name": "The Washboard",
    "telephone": "270-768-7058",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "605 S. 12th St",
      "addressLocality": "Murray",
      "addressRegion": "KY",
      "postalCode": "42071",
      "addressCountry": "US"
    },
    "geo": {
      "@type": "GeoCoordinates",
      "latitude": "36.6035",
      "longitude": "-88.3157"
    },
    "openingHoursSpecification": {
      "@type": "OpeningHoursSpecification",
      "dayOfWeek": ["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],
      "opens": "06:00",
      "closes": "23:00"
    }
  },
  "areaServed": {
    "@type": "City",
    "name": "Murray",
    "containedInPlace": { "@type": "State", "name": "Kentucky" }
  },
  "priceRange": "$",
  "hasOfferCatalog": {
    "@type": "OfferCatalog",
    "name": "Laundry Services",
    "itemListElement": [
      {
        "@type": "OfferCatalog",
        "name": "Self-Service Laundry",
        "itemListElement": selfServicePricing.items.map((p) => ({
          "@type": "Offer",
          "itemOffered": { "@type": "Service", "name": p.item },
          "price": p.price.replace("$", ""),
          "priceCurrency": "USD"
        }))
      },
      {
        "@type": "OfferCatalog",
        "name": "Wash & Fold Service",
        "itemListElement": washFoldPricing.items.map((p) => ({
          "@type": "Offer",
          "itemOffered": { "@type": "Service", "name": p.item },
          "priceSpecification": {
            "@type": "UnitPriceSpecification",
            "price": p.price.replace(/[^0-9.]/g, ""),
            "priceCurrency": "USD"
          }
        }))
      }
    ]
  }
};
---

<BaseLayout
  title="Laundry Services in Murray, KY | The Washboard"
  description="Self-service laundry and wash & fold in Murray, Kentucky. Modern machines, reloadable laundry cards, convenient for Murray State students and families."
  schema={serviceSchema}
>
  <!-- Hero -->
  <section class="py-20 md:py-28 bg-background">
    <div class="container mx-auto px-4 md:px-8 text-center max-w-3xl">
      <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-6">Laundry Services in Murray, KY</h1>
      <p class="text-lg md:text-xl text-muted-foreground mb-8">
        Modern machines. Customer-first service. Convenient options for every household.
      </p>
      <div class="flex flex-col sm:flex-row gap-3 justify-center">
        <a
          href={contactInfo.googleMapsUrl}
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center justify-center gap-2 rounded-full bg-primary px-8 py-3 text-base font-semibold text-primary-foreground hover:opacity-90 transition-opacity"
        >
          <Icon name="lucide:map-pin" width={18} height={18} />
          Get Directions
        </a>
        <a
          href={contactInfo.phoneHref}
          class="inline-flex items-center justify-center gap-2 rounded-full border-2 border-primary px-8 py-3 text-base font-semibold text-primary hover:bg-primary hover:text-primary-foreground transition-colors"
        >
          <Icon name="lucide:phone" width={18} height={18} />
          Call {contactInfo.phoneFormatted}
        </a>
      </div>
    </div>
  </section>

  <!-- Self-Service Laundry -->
  <section class="py-16 md:py-24 bg-warm">
    <div class="container mx-auto px-4 md:px-8 max-w-5xl">
      <div class="grid md:grid-cols-2 gap-10 items-stretch">
        <!-- Image - shows first on mobile -->
        <div class="rounded-2xl overflow-hidden shadow-lg order-first md:order-last">
          <img
            src={selfServiceImage.src}
            alt="Modern washing machines at The Washboard laundromat in Murray, KY"
            class="w-full h-full object-cover object-top"
            loading="lazy"
          />
        </div>

        <!-- Text -->
        <div>
          <div class="flex items-center gap-3 mb-6">
            <div class="inline-flex items-center justify-center w-12 h-12 rounded-xl bg-accent">
              <Icon name="lucide:washing-machine" width={24} height={24} class="text-primary" />
            </div>
            <h2 class="text-2xl md:text-3xl font-bold">Self-Service Laundry</h2>
          </div>
          <p class="text-foreground/80 text-lg leading-relaxed mb-8">
            Our modern washers and dryers are designed for simplicity and efficiency. With our reloadable laundry card
            system, there is no need for coins — load your card and start your cycle.
          </p>

          <!-- Self-Service Pricing Card -->
          <div class="bg-card rounded-2xl border border-border shadow-sm p-6 md:p-8">
            <div class="flex items-center gap-3 mb-1">
              <Icon name="lucide:credit-card" width={20} height={20} class="text-primary" />
              <h3 class="text-lg font-semibold text-primary">Self-Service Pricing</h3>
            </div>
            <p class="text-muted-foreground text-sm mb-5">Coin-free laundry card system</p>

            <ul class="space-y-3 text-foreground/80">
              {selfServicePricing.items.map(({ item, price }) => (
                <li class="flex justify-between border-b border-border/50 pb-2 last:border-0 last:pb-0">
                  <span>{item}</span>
                  <span class="font-semibold text-primary">{price}</span>
                </li>
              ))}
            </ul>

            <p class="text-muted-foreground text-xs mt-5 leading-relaxed">
              {selfServicePricing.note}
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Wash & Fold Service -->
  <section class="py-16 md:py-24 bg-background">
    <div class="container mx-auto px-4 md:px-8 max-w-5xl">
      <div class="grid md:grid-cols-2 gap-10 items-stretch">
        <!-- Image - shows first on mobile -->
        <div class="rounded-2xl overflow-hidden shadow-lg order-first md:order-last">
          <img
            src={washFoldImage.src}
            alt="Neatly folded laundry from wash and fold service at The Washboard in Murray, KY"
            class="w-full h-full object-cover"
            loading="lazy"
          />
        </div>

        <!-- Text -->
        <div>
          <div class="flex items-center gap-3 mb-6">
            <div class="inline-flex items-center justify-center w-12 h-12 rounded-xl bg-accent">
              <Icon name="lucide:hand-helping" width={24} height={24} class="text-primary" />
            </div>
            <h2 class="text-2xl md:text-3xl font-bold">Wash &amp; Fold Service</h2>
          </div>
          <p class="text-foreground/80 text-lg leading-relaxed mb-8">
            When time is limited, drop off your laundry and let our team handle the washing, drying, and folding.
            Your items are returned fresh, neatly folded, and ready to put away — ideal for Murray State students
            and families throughout Calloway County.
          </p>

          <!-- Pricing Card -->
          <div class="bg-card rounded-2xl border border-border shadow-sm p-6 md:p-8">
            <div class="flex items-center gap-3 mb-1">
              <Icon name="lucide:credit-card" width={20} height={20} class="text-primary" />
              <h3 class="text-lg font-semibold text-primary">Wash &amp; Fold Pricing</h3>
            </div>
            <p class="text-muted-foreground text-sm mb-5">{washFoldPricing.minimum}</p>

            <ul class="space-y-3 text-foreground/80">
              {washFoldPricing.items.map(({ item, price }) => (
                <li class="flex justify-between border-b border-border/50 pb-2 last:border-0 last:pb-0">
                  <span>{item}</span>
                  <span class="font-semibold text-primary">{price}</span>
                </li>
              ))}
            </ul>

            <p class="text-muted-foreground text-xs mt-5 leading-relaxed">
              {washFoldPricing.detergentOptions} {washFoldPricing.additionalOptions}
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Comforters & Specialty -->
  <section class="py-16 md:py-24 bg-warm">
    <div class="container mx-auto px-4 md:px-8 max-w-4xl">
      <div class="flex items-center gap-3 mb-6">
        <div class="inline-flex items-center justify-center w-12 h-12 rounded-xl bg-accent">
          <Icon name="lucide:bed" width={24} height={24} class="text-primary" />
        </div>
        <h2 class="text-2xl md:text-3xl font-bold">Comforters &amp; Specialty Items</h2>
      </div>
      <p class="text-foreground/80 text-lg leading-relaxed mb-4">
        Home washers often struggle with bulky bedding. Our commercial-grade machines provide the drum space and water capacity needed to thoroughly clean and rinse large items, giving you better results than a standard household washer.
      </p>
      <p class="text-foreground/80 text-lg leading-relaxed mb-4">
        We accept comforters, duvets, quilts, pillows, and other oversized items. Whether it's a seasonal deep clean or regular bedding maintenance, our equipment handles it all.
      </p>
      <p class="text-foreground/80 text-lg leading-relaxed mb-4">
        We offer sizes ranging from twin and full through queen and king. If you're unsure which machine to use for your bedding, our team is happy to help you choose the right fit.
      </p>
      <p class="text-foreground/80 text-lg leading-relaxed mb-10">
        Comforters and specialty items can also be included with our Wash &amp; Fold service at per-item rates. See the Wash &amp; Fold pricing above for details on twin, queen, and king comforter pricing.
      </p>
      <div class="rounded-2xl overflow-hidden shadow-lg">
        <img
          alt="Large capacity washers for comforters and bedding at The Washboard laundromat in Murray, KY"
          class="w-full h-64 md:h-80 object-cover object-[center_calc(50%+100px)]"
          loading="lazy"
          src={comforterImage.src}
        />
      </div>
    </div>
  </section>

  <!-- CTA Band -->
  <section class="py-16 md:py-20 bg-primary">
    <div class="container mx-auto px-4 md:px-8 text-center">
      <h2 class="text-2xl md:text-3xl lg:text-4xl font-bold !text-primary-foreground mb-8">
        Have Questions About Our Services?
      </h2>
      <div class="flex flex-col sm:flex-row gap-4 justify-center mb-8">
        <a
          href={contactInfo.phoneHref}
          class="inline-flex items-center justify-center gap-2 rounded-full bg-primary-foreground px-8 py-3 text-sm font-semibold text-primary hover:opacity-90 transition-opacity"
        >
          <Icon name="lucide:phone" width={18} height={18} />
          Call {contactInfo.phoneFormatted}
        </a>
        <a
          href={contactInfo.googleMapsUrl}
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center justify-center gap-2 rounded-full border-2 border-primary-foreground px-8 py-3 text-sm font-semibold text-primary-foreground hover:bg-primary-foreground/10 transition-colors"
        >
          <Icon name="lucide:map-pin" width={18} height={18} />
          Get Directions
        </a>
      </div>
    </div>
  </section>
</BaseLayout>
